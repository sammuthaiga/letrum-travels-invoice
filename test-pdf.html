<!DOCTYPE html>
<html>
<head>
    <title>PDF Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <h1>Testing PDF Generation</h1>
    <button onclick="testPDF()">Generate Test PDF</button>

    <script>
        function testPDF() {
            const pdfHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Test Invoice</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .header { text-align: center; border-bottom: 2px solid #7fb069; padding-bottom: 15px; margin-bottom: 20px; }
                        .company-name { font-size: 24px; font-weight: bold; color: #7fb069; }
                        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
                        th { background: #7fb069; color: white; padding: 8px; text-align: left; }
                        td { padding: 6px; border-bottom: 1px solid #eee; }
                        .amount { text-align: right; font-weight: bold; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div class="company-name">CLIFF OKIKO</div>
                    </div>
                    <h2>Test Invoice</h2>
                    <table>
                        <tr><th>Item</th><th>Amount</th></tr>
                        <tr><td>Test Service</td><td class="amount">$100</td></tr>
                        <tr><td colspan="1"><strong>Total:</strong></td><td class="amount"><strong>$100</strong></td></tr>
                    </table>
                </body>
                </html>
            `;

            const tempContainer = document.createElement('div');
            tempContainer.innerHTML = pdfHTML;
            const pdfElement = tempContainer.firstElementChild;

            const opt = {
                margin: [10, 10, 10, 10],
                filename: 'test_invoice.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: {
                    scale: 2,
                    useCORS: true,
                    letterRendering: true,
                    backgroundColor: '#ffffff',
                    width: 794,
                    height: 1123
                },
                jsPDF: {
                    unit: 'mm',
                    format: 'a4',
                    orientation: 'portrait',
                    compress: true
                }
            };

            html2pdf().set(opt).from(pdfElement).save().then(() => {
                alert('PDF generated successfully!');
            }).catch(err => {
                alert('Error: ' + err);
            });
        }
    </script>
</body>
</html>
